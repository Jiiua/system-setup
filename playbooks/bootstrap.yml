- name: Bootstrap System Admin
  hosts: all

  become: true
  
  gather_facts: false

  vars_prompt:
    - name: "sysadmin_password"
      prompt: "Enter plain password for system admin"
      private: yes

  vars:
    ansible_user: root
    ansible_python_interpreter: auto_silent

    sysadmin_password_hash: "{{ sysadmin_password | password_hash('sha512') }}"

  roles:
    - role: setup_sysadmin
